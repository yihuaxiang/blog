var User=require("./User");
var DatabaseDAO=require("../DatabaseDAO");

function  UserDAO(){
	this.addUser=function(user){
		var sql='insert into users values(null,"'+user.getPassword()+'","'+user.getUsername()+'")';
		var databaseDAO=new DatabaseDAO();
		databaseDAO.getConnection();
		var result=databaseDAO.insert(sql);
		return result;
	};
	this.deleteUser=function(user){
		var sql="delete from users where id="+user.getId();
		var databaseDAO=new DatabaseDAO();
		databaseDAO.getConnection();
		var result=databaseDAO.delete(sql);
		return result;
	}
	this.updateUser=function(user){
		var sql="update user set username='"+user.getUsername();+"',password='"+user.getPassword()+"' where id="+user.getId();
		var databaseDAO=new DatabaseDAO();
		databaseDAO.getConnection();
		var result=databaseDAO.update(sql);
		return result;
	}
	this.selectUser=function(user,fun){
		var sql="select * from users where username='"+user.getUsername()+"'";
		var databaseDAO=new DatabaseDAO();
		databaseDAO.getConnection();
		console.log("selectUser...");
		databaseDAO.select(sql,fun);


	}
}



 module.exports=UserDAO